const fs = require('fs');
const path = require('path');

const root = path.join(__dirname, '..');
const configPath = path.join(root, 'content', 'cups-config.json');
const wordsPath = path.join(root, 'content', 'cups-words.json');
const outPath = path.join(root, 'cups-data.js');

const config = JSON.parse(fs.readFileSync(configPath, 'utf8'));
const words = JSON.parse(fs.readFileSync(wordsPath, 'utf8'));

const js =
  '// Generated by scripts/build-cups-data.js â€” do not edit by hand\n' +
  'const CUPS_CONFIG = ' + JSON.stringify(config) + ';\n' +
  'const CUPS_WORDS = ' + JSON.stringify(words) + ';\n';

fs.writeFileSync(outPath, js, 'utf8');
console.log('Wrote cups-data.js (same folder as cups.html). Cups can run without a server.');
